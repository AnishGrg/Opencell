<beanio xmlns="http://www.beanio.org/2012/03" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd">
  <stream name="FF_Hierarchy" format="csv">
    <parser>
      <property name="delimiter" value=";" />
    </parser>
    <typeHandler name="toUpperCase" class="org.meveo.commons.utils.beanio.UpperCaseHandler" />
    <typeHandler name="paymentMethodHandler" class="org.meveo.commons.utils.beanio.PaymentTypeHandler" />
    <typeHandler name="doubleHandler" class="org.meveo.commons.utils.beanio.DoubleTypeHandler" />
    <record name="accountHierarchy" class="org.meveo.api.dto.account.CRMAccountHierarchyDto">
       <property name="crmAccountType" value="C_UA" />
       <property name="seller" value="MAIN_SELLER" />
        <property name="crmParentCode" value="MAIN_SELLER" />
        <property name="customerCategory" value="CLIENT" />
        <property name="customerBrand" value="DEFAULT" />  
        <property name="currency" value="EUR" />
        <property name="language" value="FRA" />
        <property name="billingCycle" value="CYC_INV_MT_1" />
        <property name="country" value="FR" />

      <field position="0" name="externalRef1" />
      <field position="1" name="code"  required="true"/>
      <field position="2" name="description" typeHandler="toUpperCase" />
      <segment name="name" class="org.meveo.api.dto.account.NameDto">
         <property name="title" value="ETS" />
         <field position="2" name="lastName" typeHandler="toUpperCase" />
      </segment>
      <segment name="address" class="org.meveo.api.dto.account.AddressDto">
        <field position="3" name="address1" typeHandler="toUpperCase" />
        <field position="4" name="address2" typeHandler="toUpperCase" />
        <field position="5" name="address3" typeHandler="toUpperCase" />      
        <field position="6" name="zipCode" />
        <field position="7" name="city" typeHandler="toUpperCase" />
      </segment>
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SIRET" />
             <field position="8" name="stringValue" />
        </segment>
         <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="TVA_CEE" />
             <field position="9" name="stringValue" />
        </segment>
        <field position="10" name="subscriptionDate" format="M/d/yy" />
        <field position="11" name="terminationDate"  format="M/d/yy" />
        <field position="12" name="paymentMethod" typeHandler="paymentMethodHandler" />  
        <field position="13" name="offerCode" />
        <field position="14" name="serviceCode" />
        <field position="15" name="access" />    
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P1" />
             <field position="16" name="doubleValue"  typeHandler="doubleHandler" />
        </segment>
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P2" />
             <field position="17" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>  
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P3" />
             <field position="18" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P4" />
             <field position="19" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>    
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P5" />
             <field position="20" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>  
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P6" />
             <field position="21" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P7" />
             <field position="22" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>    
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="SMS_NAT_P8" />
             <field position="22" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>  
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="INT_596" />
             <field position="23" name="doubleValue"  typeHandler="doubleHandler" />
        </segment>
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="INT_594" />
             <field position="24" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>  
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="INT_262" />
             <field position="25" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="INT_590" />
             <field position="26" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>    
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="INT" />
             <field position="27" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>  
        <segment name="cfToAdd" class="org.meveo.api.dto.CustomFieldDto">
             <property name="code" value="EMAIL" />
             <field position="28" name="doubleValue"  typeHandler="doubleHandler"  />
        </segment>                                             
    </record> 
  </stream>
</beanio>












<beanio xmlns="http://www.beanio.org/2012/03" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.beanio.org/2012/03 http://www.beanio.org/2012/03/mapping.xsd">
  <stream name="dataSrcFile" format="csv">
    <parser>
      <property name="delimiter" value=";" />
    </parser>
   	<record name="order-header" minOccurs="1" maxOccurs="1" class="org.meveo.api.dto.account.CRMAccountHierarchyDto">
		<field name="externalRef1" ignore="true" />
	</record>
    <record name="accountHierarchy" class="org.meveo.api.dto.account.CRMAccountHierarchyDto">
      <property name="crmAccountType" value="C_UA" />
      <field name="externalRef1" />
      <field name="code"  required="true"/>
      <segment name="name" class="org.meveo.api.dto.account.NameDto">
         <property name="title" value="myNewTitleCode" />
         <field name="lastName" />
      </segment>
      <segment name="address" class="org.meveo.api.dto.account.AddressDto">
        <field name="address1" />
        <field name="address2" />
        <field name="address3" />      
        <field name="zipCode" />
        <field name="city" />
      </segment>
        <field name="siret" />
        <field name="tvaCee" />
        <field name="subscriptionDate" format="M/d/yy" />
        <field name="terminationDate"  format="M/d/yy" />          
    </record> 
  </stream>
</beanio>