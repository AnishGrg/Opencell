<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:hftl="http://hftl.org" xmlns:hf="http://java.sun.com/jsf/composite/tags"
	template="/layout/template.xhtml">

	<ui:define name="navigation">
		<ui:include src="/layout/navigation.xhtml" />
	</ui:define>

	<ui:define name="body">
		
		<hftl:entityPopup id="serviceTemplatePopup"
			header="#{messages['usagePricePlanItem.serviceTemplate.popup.header']}"
			backingBean="#{serviceTemplateBean}" dataModel="#{serviceTemplates}"
			searchField1Label="#{messages['serviceTemplate.code']}" searchField1="code"
			column1Label="#{messages['serviceTemplate.code']}" column1="code"
			filtersMap="#{serviceTemplateBean.filters}">
			<!-- select link -->
			<a:commandLink value="#{messages['commons.select']}"
				reRender="formId"
				action="#{usageDiscountPlanItem.setServiceTemplate(entity)}"
				oncomplete="Richfaces.hideModalPanel('serviceTemplatePopup')">
			</a:commandLink>
		</hftl:entityPopup>		
	 
		
		<hftl:entityPopup id="customerAccountPopup"
				header="#{messages['usagePricePlanItem.customerAccount.popup.header']}"
				backingBean="#{customerAccountBean}" dataModel="#{customerAccounts}"
				searchField1Label="#{messages['customerAccount.code']}"
				searchField1="code"
				column1Label="#{messages['customerAccount.code']}" 
				column1="code"
				column2Label="#{messages['businessEntity.description']}" 
				column2="description"
				filtersMap="#{customerAccountBean.filters}">
				<!-- select link -->
				<a:commandLink value="#{messages['commons.select']}"
						reRender="formId" 
						action="#{usageDiscountPlanItem.setCustomerAccount(entity)}"
						oncomplete="Richfaces.hideModalPanel('customerAccountPopup')">
				</a:commandLink>
		</hftl:entityPopup>
			
		<hf:formPanel label="#{messages['usagePricePlanItem.usagePricePlanItemPanel']}" backingBean="#{usageDiscountPlanItemBean}">
			<hf:formField label="#{messages['usagePricePlanItem.type']}" field="type" childField="label" isMessage="true" />
			<hf:formEntityField id="serviceTemplateSelectId" label="#{messages['usagePricePlanItem.serviceTemplate']}"
				field="serviceTemplate" childField="code"   popup="true" popupId="serviceTemplatePopup" />
    		<hf:formEntityField id="customerAccountSelectId" label="#{messages['usagePricePlanItem.customerAccount']}"
				field="customerAccount" childField="code" popup="true" popupId="customerAccountPopup" />
				
			    <hf:formField label="#{messages['numberingPlan.priority']}" field="priority"  />
    			<hf:formField label="#{messages['usagePricePlanItem.numberParam1Min']}" field="numberParam1Min" />
				<hf:formField label="#{messages['usagePricePlanItem.numberParam1Max']}" field="numberParam1Max" />
	    		<hf:formField label="#{messages['usagePricePlanItem.stringParam1']}" field="stringParam1" />
	    	    <hf:formField label="#{messages['usagePricePlanItem.stringParam2']}" field="stringParam2" />
	    	    <hf:formField label="#{messages['usagePricePlanItem.stringParam3']}" field="stringParam3" />
	    	    <hf:formField label="#{messages['usagePricePlanItem.booleanParam1']}" field="booleanParam1" isMessage="true" />
	    	    <hf:formField label="#{messages['usageDiscountPlanItem.percentage']}" field="percentage" />
	    	    <hf:formField label="#{messages['access.startDate']}" field="startDate"  />
	    	    <hf:formField label="#{messages['access.endDate']}" field="endDate"  />
				 
    		
    		
		</hf:formPanel>

	</ui:define>

</ui:composition>
