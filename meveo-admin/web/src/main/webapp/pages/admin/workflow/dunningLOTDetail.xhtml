<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:hftl="http://hftl.org"
	template="/layout/template.xhtml">

    <ui:define name="metadata">
        <f:metadata>
            <f:viewParam name="objectId" value="#{dunningLOTBean.objectId}" />
        </f:metadata>
    </ui:define>
    
	<ui:define name="navigation">
		<ui:include src="/layout/navigation.xhtml" />
	</ui:define>
	<ui:define name="body">	
	<p:panel>				
				<hftl:formPanel  showFormButtons ="#{false}" label="#{messages['dunningLOT.panel']}" backingBean="#{dunningLOTBean}">
							 
						<hftl:formField label="#{messages['dunningLOT.fileName']}" field="fileName"  />
						<hftl:formField label="#{messages['dunningLOT.actionType']}" field="actionType"  />
                    <ui:param name="buttons" value="true"/>
                    <ui:define name="buttons">											
					   <h:commandButton value="#{messages['action.back']}"	 onclick="javascript:history.back()"/>
                    </ui:define>											
				</hftl:formPanel>
				<custom:listPanel label="#{messages['dunningLOT.actionsDunning']}">
					<custom:dataList backingBean="#{dunningLOTBean}"
						dataModel="#{dunningLOT.getActions()}"
						edit="#{false}" checkMany="#{false}">
						<custom:column label="#{messages['actionDunning.typeAction']}" field="typeAction"  />
						<custom:column label="#{messages['actionDunning.customerAccount']}"	field="customerAccount" childField="code" />					
						<custom:column label="#{messages['actionDunning.referenceInvoice']}" field="recordedInvoice" childField="reference"  />
						<custom:column label="#{messages['actionDunning.amountInvoice']}" field="recordedInvoice" childField="amount"  />
						<custom:column label="#{messages['actionDunning.fromLevel']}" field="fromLevel"  />
						<custom:column label="#{messages['actionDunning.toLevel']}" field="toLevel"  />				
					</custom:dataList>
				</custom:listPanel>
				
			</p:panel>		
		</ui:define>
</ui:composition>
