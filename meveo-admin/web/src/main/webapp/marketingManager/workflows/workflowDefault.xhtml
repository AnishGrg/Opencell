<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:hftl="http://hftl.org"
	xmlns:hf="http://java.sun.com/jsf/composite/tags"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	template="/marketingManager/layout/template.xhtml">
    <ui:define name="metadata">
        <f:metadata>
            <f:event type="preRenderView"
                     listener="#{wfTransitionBean.preRenderView}" />
            <f:viewParam name="wfTransitionId" value="#{wfTransitionBean.objectId}" />
        </f:metadata>
    </ui:define>
    <ui:define name="navigation">
        <ui:include src="/marketingManager/layout/navigation.xhtml" />
    </ui:define>
    <ui:define name="body">
        <p:panel>
            <h:form id="crumbmenuForm">
                <p:breadCrumb homeDisplay="text" id="crumbmenu">
                    <p:menuitem outcome="mm_workflows" value="#{wfTransitionBean.workflowOrder.descriptionOrCode}" />
                    <p:menuitem value="#{messages['mmTransition.default']}" disabled="true"/>
                </p:breadCrumb>
            </h:form>
        </p:panel>
        <hftl:formPanel
            formId="formDunningPlanTransition"
            edit="#{wfTransitionBean.edit}"
            label="#{messages['dunningPlan.transition']}"
            backingBean="#{wfTransitionBean}"
            entity="#{wfTransitionBean.wfTransition}"
            ajaxSubmit="true" showDeleteButton="false">
            <hftl:decorateFormField fieldId="userGroupLevel" label="#{messages['mmTransition.assignedTeamMultiChoice']}" displayOneLine="true">
                <p:tree id="userGroupLevel" value="#{wfTransitionBean.userGroupRootNode}" var="groupLevel" propagateSelectionUp="false" propagateSelectionDown="false" selectionMode="checkbox"
                        selection="#{wfTransitionBean.userGroupSelectedNodes}">
                    <p:treeNode>
                        <h:outputText value="#{groupLevel.descriptionOrCode}" />
                    </p:treeNode>
                </p:tree>
            </hftl:decorateFormField>
        </hftl:formPanel>
    </ui:define>
</ui:composition>