<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core">

<!-- 
JSF tag to display a pair of field label and field entry/output value in a SINGLE or TWO line as a floating div in the following format:
 <div class="formFieldGroup ...">
    <label class="header-text ...">
    <div class="formFieldItem/formFieldItem2Lines ...">
        anything that was surrounded by c:decorate tag
    </div>
 </div> 
 
Accepts the following attributes:
id - a standard (optional) JSF attribute to assign ID to this component. If not provided a standard one will be generated. Need to supply only in cases when you have an ajax updatable component surrounded by this decorate tag.
rendered - a standard JSF attribute to not render this component
label - field label
fieldId - input component's id value. Used to add p:messages component bound to the id of an input field. Note: no fieldId - no p:messages.
required - should * be added to the label to indicate a required field
styleClass - additional style class to apply to a component's div - will be added next to formFieldGroup class
labelStyleClass - additional style class to apply to a label
inputStyleClass - additional style class to apply to a div surrounding an input - will to be added next to formFieldItem class
style - additional inline style to apply to a component's div
labelStyle - additional inline style to apply to a label
inputStyle - additional inline style to apply to a iv surrounding an input
newLine - should component apply clear:left style on a component DIV

Component by default will occupy a full width of a parent's container space - 100%
To display two components in one line, each component width should be limited to 50% each. 
To display three - should be limited into 33% each.

The following parameters manage the width of the component, label and input container. Note that label and input container's with is measured in relation to component's with - not the page width.
displayOneLine - should input controls be displayed in one (true) or two lines (false)
componentWidth - a percentage (without % sign) of parent's component's space that component should occupy. Default 25 - a quarter width of a parent container's space.
labelWidth - applies only when displayOneLine=true - a percentage (without % sign) that label should occupy. Input would occupy 100-labelWidth percent of space. Default - 20, that is 20% of a component's width.

 -->
<ui:composition>

    <c:if test="${empty(required)}">
        <c:set var="required" value="false" />
    </c:if>

    <c:if test="${empty(componentWidth)}">
        <c:set var="componentWidth" value="25" />
    </c:if>

    <c:if test="${empty(displayOneLine)}">
        <c:set var="displayOneLine" value="false" />
    </c:if>

    <c:if test="${empty(newLine)}">
        <c:set var="newLine" value="false" />
    </c:if>

    <c:if test="${empty(labelWidth)}">
        <c:set var="labelWidth" value="#{displayOneLine?(componentWidth>60?20:30):100}" />
    </c:if>

    <c:if test="${empty(inputWidth)}">
        <c:set var="inputWidth" value="#{displayOneLine?(100-labelWidth):100}" />
    </c:if>

    <c:if test="${empty(rendered)}">
        <c:set var="rendered" value="true" />
    </c:if>
    
    <h:panelGroup layout="block" styleClass="formFieldGroup #{styleClass} #{newLine?'clearLeft':''}" style="width:#{componentWidth}%; #{style} " rendered="#{rendered}">
        <p:outputLabel for="#{fieldId}" styleClass="#{labelStyleClass}" style="width:#{labelWidth}%; #{labelStyle}" value="#{label}" rendered="#{label!=null and fieldId!=null}" />
        <p:outputLabel styleClass="#{labelStyleClass}" style="width:#{labelWidth}%; #{labelStyle}" value="#{label}" rendered="#{label!=null and fieldId==null}" />
        <h:panelGroup layout="block" styleClass="#{displayOneLine?'formFieldItem':'formFieldItem2Lines'} #{inputStyleClass}" style="width:#{inputWidth}%;  #{inputStyle}">
            <ui:insert />

        </h:panelGroup>
    </h:panelGroup>
</ui:composition>

</html>
