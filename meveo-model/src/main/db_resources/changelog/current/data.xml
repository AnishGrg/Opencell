<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <changeSet id="#1821_20160711" author="EdwardLegaspi">
		<insert tableName="adm_permission">
			<column name="id" value="-17" />
			<column name="name" value="Marketing Catalog"></column>
			<column name="ressource" value="marketing"></column>
			<column name="permission" value="marketingCatalogManager"></column>
		</insert>
		<insert tableName="adm_role">
			<column name="id" value="-5"/>
			<column name="version" value="0"/>
			<column name="role_description" value="Marketing "/>
			<column name="role_name" value="MARKETING_MANAGER"/>
			<column name="provider_id" value="1"/>
		</insert>
				
		 <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-5" />
            <column name="permission_id" valueNumeric="-17" />
        </insert>   
        
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-5" />
            <column name="permission_id" valueNumeric="13" />
        </insert>        
        
        <insert tableName="adm_user">
            <column name="id" valueNumeric="-3" />
            <column name="version" valueNumeric="0" />
            <column name="disabled" valueNumeric="0" />
            <column name="created" valueDate="2015-03-19 00:04:09.787" />
            <column name="email" />
            <column name="last_password_modification" valueDate="current_date" />
            <column name="firstname" />
            <column name="lastname" />
            <column name="password" value="c9b9580d19c8cc4f3a83d222a72444a5fc8f0084" />
            <column name="username" value="MEVEO.MARKETINGMANAGER" />
            <column name="provider_id" valueNumeric="1" />
            <column name="title_id" />
        </insert>
        <insert tableName="adm_user_role">
            <column name="user_id" valueNumeric="-3" />
            <column name="role_id" valueNumeric="-5" />
        </insert>                
	</changeSet> 
    
    <changeSet id="#1844_20160722_orders" author="AndriusKarpavicius">
    
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-18" />
            <column name="name" value="Orders visualization" />
            <column name="permission" value="orderVisualization" />
            <column name="ressource" value="order" />
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-19" />
            <column name="name" value="Order management" />
            <column name="permission" value="orderManagement" />
            <column name="ressource" value="order" />
        </insert>    
        

        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="1" />
            <column name="permission_id" valueNumeric="-18" />
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="1" />
            <column name="permission_id" valueNumeric="-19" />
        </insert>        
    </changeSet>

    <changeSet id="#1861_20160817" author="pbach">
        <sql>
            INSERT INTO wf_decision_rule (id, version, disabled, created, updated, condition_el, name, type, value, provider_id, creator_id, updater_id, model) VALUES (1, 0, 0, '2016-08-12 21:02:31.26', NULL, '#{mv:getCFValue(entity,"Territory")==_VALUE_}', 'Territory', 'STRING', 'Other', 1, 1, NULL, 1);
            INSERT INTO wf_decision_rule (id, version, disabled, created, updated, condition_el, name, type, value, provider_id, creator_id, updater_id, model) VALUES (2, 0, 0, '2016-08-13 22:43:06.214', NULL, '#{mv:getCFValue(entity,"Territory")==_VALUE_}', 'Territory', 'STRING', 'south', 1, 1, NULL, 0);
            INSERT INTO wf_decision_rule (id, version, disabled, created, updated, condition_el, name, type, value, provider_id, creator_id, updater_id, model) VALUES (3, 0, 0, '2016-08-13 22:43:06.214', NULL, '#{mv:getCFValue(entity,"Territory")==_VALUE_}', 'Territory', 'STRING', 'west', 1, 1, NULL, 0);
            INSERT INTO wf_decision_rule (id, version, disabled, created, updated, condition_el, name, type, value, provider_id, creator_id, updater_id, model) VALUES (4, 0, 0, '2016-08-13 22:52:44.007', NULL, '#{mv:getCFValue(entity,"Territory")==_VALUE_}', 'Territory', 'STRING', 'north', 1, 1, NULL, 0);
            INSERT INTO wf_decision_rule (id, version, disabled, created, updated, condition_el, name, type, value, provider_id, creator_id, updater_id, model) VALUES (5, 0, 0, '2016-08-15 08:09:43.616', NULL, '#{mv:getCFValue(entity,"SalesAmount")==_VALUE_}', 'Sales amount', 'RANGE_NUMBER', 'Other', 1, 1, NULL, 1);
            INSERT INTO wf_decision_rule (id, version, disabled, created, updated, condition_el, name, type, value, provider_id, creator_id, updater_id, model) VALUES (8, 0, 0, '2016-08-16 07:46:20.404', NULL, '#{mv:getCFValue(entity,"AccountType")==_VALUE_}', 'Account Type', 'STRING', 'Other', 1, 1, NULL, 1);
        </sql>
    </changeSet>

	<changeSet id="#1849_20160909" author="EdwardPLegaspi" dbms="postgresql">

		<insert tableName="meveo_timer">
			<column name="id" valueSequenceNext="meveo_timer_seq" />
			<column name="version" valueNumeric="0" />
			<column name="sc_d_o_month" value="Last" />
			<column name="sc_d_o_week" value="0" />
			<column name="sc_hour" value="23" />
			<column name="sc_min" value="59" />
			<column name="sc_month" value="*" />
			<column name="sc_sec" value="59" />
			<column name="sc_year" value="*" />
			<column name="provider_id" valueNumeric="1" />
			<column name="code" value="Monthly" />
			<column name="disabled" valueNumeric="0" />
			<column name="created" valueDate="2015-03-19 00:04:19.913" />
		</insert>

		<insert tableName="meveo_job_instance">
			<column name="id" valueSequenceNext="meveo_job_instance_seq" />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueNumeric="0" />
			<column name="created" valueDate="2016-09-14 00:00:00.000" />
			<column name="job_category" value="DWH" />
			<column name="job_template" value="DWHQueryJob" />
			<column name="code" value="DWH_Job_MRR" />
			<column name="provider_id" valueNumeric="1" />
			<column name="creator_id" valueNumeric="1" />
			<column name="timerentity_id" valueNumeric="2" />
			<column name="UUID" value="DWH_Job_MRR" />
			<column name="parametres" value="MRR"></column>
		</insert>

		<insert tableName="meveo_job_instance">
			<column name="id" valueSequenceNext="meveo_job_instance_seq" />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueNumeric="0" />
			<column name="created" valueDate="2016-09-14 00:00:00.000" />
			<column name="job_category" value="DWH" />
			<column name="job_template" value="DWHQueryJob" />
			<column name="code" value="DWH_Job_CHURN" />
			<column name="provider_id" valueNumeric="1" />
			<column name="creator_id" valueNumeric="1" />
			<column name="timerentity_id" valueNumeric="2" />
			<column name="UUID" value="DWH_Job_CHURN" />
			<column name="parametres" value="CHURN"></column>
		</insert>
	</changeSet>

	<changeSet id="#1747_20160810" author="TyshanShi">
		<sql>delete from BILLING_INVOICE_CONFIGURATION where PROVIDER_ID is null</sql>
	</changeSet>
	
    <changeSet id="#2087_20161013" author="anasseh">
		<insert tableName="adm_permission">
			<column name="id" valueNumeric="-20" />
			<column name="name" value="Finance visualization"></column>
			<column name="ressource" value="finance"></column>
			<column name="permission" value="financeVisualization"></column>
		</insert>		
		<insert tableName="adm_permission">
			<column name="id" valueNumeric="-21" />
			<column name="name" value="Finance management"></column>
			<column name="ressource" value="finance"></column>
			<column name="permission" value="financeManagement"></column>
		</insert>
		<insert tableName="adm_permission">
			<column name="id" valueNumeric="-22" />
			<column name="name" value="Marketing Catalog visualization"></column>
			<column name="ressource" value="marketing"></column>
			<column name="permission" value="marketingCatalogVisualization"></column>
		</insert>						
	</changeSet>	
	
	<changeSet id="#2120_20161024-Update default opencell usernames" author="EdwardLegaspi">
		<sql>
			<![CDATA[update adm_user set username='OPENCELL.ADMIN', password='bf8c7d679397827ac587e4d976903f29d437ed98' where username='MEVEO.ADMIN';
			update adm_user set username='OPENCELL.SUPERADMIN', password='141fb5df0d658f7718eed6d97defc9dfb687de9a' where username='MEVEO.SUPERADMIN';
			update adm_user set username='OPENCELL.MARKETINGMANAGER', password='8618dab964637c4efa75bca53de7c858258eed5e' where username='MEVEO.MARKETINGMANAGER';]]>
		</sql>
	</changeSet>


    <changeSet id="#1795_20161101_quotes" author="AndriusKarpavicius">
    
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-23" />
            <column name="name" value="Quote visualization" />
            <column name="permission" value="quoteVisualization" />
            <column name="ressource" value="quote" />
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-24" />
            <column name="name" value="Quote management" />
            <column name="permission" value="quoteManagement" />
            <column name="ressource" value="quote" />
        </insert>    
        

        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="1" />
            <column name="permission_id" valueNumeric="-23" />
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="1" />
            <column name="permission_id" valueNumeric="-24" />
        </insert>        
    </changeSet>
    
</databaseChangeLog>