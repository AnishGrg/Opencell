<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.2.xsd">

	<property name="now" value="now()" dbms="postgresql" />

	<changeSet id="#655_20150522" author="EdwardLegaspi">
		<insert tableName="ar_credit_category">
			<column name="id" valueNumeric="1" />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueBoolean="false" />
			<column name="created" valueDate="${now}" />
			<column name="code" value="PART_C" />
			<column name="description" value="Part C" />
			<column name="provider_id" valueNumeric="1" />
		</insert>
		<insert tableName="ar_credit_category">
			<column name="id" valueNumeric="2" />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueBoolean="false" />
			<column name="created" valueDate="${now}" />
			<column name="code" value="PART_M" />
			<column name="description" value="Part M" />
			<column name="provider_id" valueNumeric="1" />
		</insert>
		<insert tableName="ar_credit_category">
			<column name="id" valueNumeric="3" />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueBoolean="false" />
			<column name="created" valueDate="${now}" />
			<column name="code" value="PRO" />
			<column name="description" value="PRO" />
			<column name="provider_id" valueNumeric="1" />
		</insert>
		<insert tableName="ar_credit_category">
			<column name="id" valueNumeric="4" />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueBoolean="false" />
			<column name="created" valueDate="${now}" />
			<column name="code" value="VIP" />
			<column name="description" value="VIP" />
			<column name="provider_id" valueNumeric="1" />
		</insert>
		<insert tableName="ar_credit_category">
			<column name="id" valueNumeric="5" />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueBoolean="false" />
			<column name="created" valueDate="${now}" />
			<column name="code" value="NEWCUSTOMER" />
			<column name="description" value="New Customer" />
			<column name="provider_id" valueNumeric="1" />
		</insert>
	</changeSet>

	<changeSet id="#655_20150523" author="EdwardLegaspi">
		<sql><![CDATA[ update ar_customer_account a set credit_category_id=(select b.id from ar_credit_category b where b.code=a.credit_category); ]]></sql>
		<sql><![CDATA[ update ar_dunning_plan a set credit_category_id=(select b.id from ar_credit_category b where b.code=a.credit_category); ]]></sql>
		<dropColumn tableName="ar_customer_account" columnName="credit_category" />
		<dropColumn tableName="ar_dunning_plan" columnName="credit_category" />
	</changeSet>
	
	<changeSet id="846-2015604-1" author="TyshanShi">
		<dropAllForeignKeyConstraints baseTableName="adm_user_provider"/>
		<dropTable tableName="adm_user_provider"/>
	</changeSet>
	
	<changeSet id="#852_20150605-1" author="EdwardLegaspi">
		<sql><![CDATA[ UPDATE CAT_COUNTER_TEMPLATE set COUNTER_TYPE='USAGE' WHERE COUNTER_TYPE IS NULL ]]></sql>
		<sql><![CDATA[ UPDATE CAT_COUNTER_TEMPLATE set COUNTER_LEVEL='UA' WHERE COUNTER_LEVEL IS NULL ]]></sql>
	</changeSet>
	
	<changeSet author="anasseh (generated)" id="878_2015-06-11">

		<insert tableName="meveo_script_instance">
			<column name="id" valueSequenceNext="meveo_script_instance_seq"  />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueBoolean="false" />
			<column name="created" valueDate="${now}" />
			<column name="code" value="Test_1" />
			<column name="description" value="first script" />
			<column name="script" value="here"/>
			<column name="provider_id" valueNumeric="1" />
			<column name="creator_id" valueNumeric="1" />
		</insert>
		
		<insert tableName="meveo_script_instance">
			<column name="id" valueSequenceNext="meveo_script_instance_seq"  />
			<column name="version" valueNumeric="0" />
			<column name="disabled" valueBoolean="false" />
			<column name="created" valueDate="${now}" />
			<column name="code" value="Test_2" />
			<column name="description" value="second script" />
			<column name="script" value="here"/>
			<column name="provider_id" valueNumeric="1" />
			<column name="creator_id" valueNumeric="1" />
		</insert>
		
		</changeSet>

	<changeSet id="#879_20150616" author="EdwardLegaspi">
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_TYPE" />
			<column name="DESCRIPTION" value="CRM Account Type" />
			<column name="ACCOUNT_TYPE" value="CUST" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />			
		</insert>
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_TYPE" />
			<column name="DESCRIPTION" value="CRM Account Type" />
			<column name="ACCOUNT_TYPE" value="CA" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />
		</insert>
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_TYPE" />
			<column name="DESCRIPTION" value="CRM Account Type" />
			<column name="ACCOUNT_TYPE" value="BA" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />
		</insert>
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_TYPE" />
			<column name="DESCRIPTION" value="CRM Account Type" />
			<column name="ACCOUNT_TYPE" value="UA" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />
		</insert>
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_PARENT" />
			<column name="DESCRIPTION" value="CRM Parent Account Code" />
			<column name="ACCOUNT_TYPE" value="CUST" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />
		</insert>
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_PARENT" />
			<column name="DESCRIPTION" value="CRM Parent Account Code" />
			<column name="ACCOUNT_TYPE" value="CA" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />
		</insert>
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_PARENT" />
			<column name="DESCRIPTION" value="CRM Parent Account Code" />
			<column name="ACCOUNT_TYPE" value="BA" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />
		</insert>
		<insert tableName="CRM_CUSTOM_FIELD_TMPL">
			<column name="ID" valueSequenceNext="CRM_CUSTOM_FLD_TMP_SEQ" />
			<column name="PROVIDER_ID" valueNumeric="1" />
			<column name="CREATED" valueDate="${now}" />			
			<column name="DISABLED" valueBoolean="false" />
			<column name="CODE" value="CRM_ACCOUNT_PARENT" />
			<column name="DESCRIPTION" value="CRM Parent Account Code" />
			<column name="ACCOUNT_TYPE" value="UA" />
			<column name="VALUE_REQUIRED" valueBoolean="false" />
			<column name="FIELD_TYPE" value="STRING" />
		</insert>
	</changeSet>
	
	<changeSet id="878_2015-06-11_2" author="anasseh">
	    <update tableName="meveo_script_instance">	        
	        <column name="code" value='TestScript' />
	        <column name="src_type" value='JAVA' />
	        <where>id=1</where>
        </update>
         <update tableName="meveo_script_instance">
	        <column name="code" value='TestScript_2' />
	        <column name="src_type" value='JAVA' />
	        <where>id=2</where>
        </update>
	</changeSet>

</databaseChangeLog>