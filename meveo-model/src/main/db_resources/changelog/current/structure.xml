<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.2.xsd">

	<changeSet id="ticket703_20150429" author="Mbarek"> 
     <modifyDataType tableName="billing_invoice" columnName="invoice_number" newDataType="VARCHAR(50)"/>
   </changeSet>
	<changeSet id="ticket599_20150429" author="Mbarek">
	<addColumn tableName="AR_CUSTOMER_ACCOUNT">
	<column name="TRADING_LANGUAGE_ID" type="BIGINT"/>
	</addColumn>
	</changeSet>

	<changeSet id="ticket685_20150430" author="EdwardLegaspi">
		<addColumn tableName="billing_wallet_operation">
			<column name="input_quantity" type="numeric(23, 12)" />
			<column name="input_unit_description" type="varchar(20)" />
			<column name="rating_unit_description" type="varchar(20)" />
		</addColumn>
		<dropColumn columnName="unity_description" tableName="billing_wallet_operation" />

		<addColumn tableName="cat_charge_template">
			<column name="input_unit_description" type="varchar(20)" />
			<column name="rating_unit_description" type="varchar(20)" />
			<column name="unit_multiplicator" type="numeric(23, 12)" />
			<column name="unit_nb_decimal" type="int4" />
		</addColumn>

		<dropColumn columnName="unity_description" tableName="cat_usage_charge_template" />
		<dropColumn columnName="unity_multiplicator" tableName="cat_usage_charge_template" />
		<dropColumn columnName="unity_nb_decimal" tableName="cat_usage_charge_template" />
		<dropColumn columnName="unity_formatter" tableName="cat_usage_charge_template" />

		<dropColumn columnName="unity_description" tableName="billing_usage_charge_inst" />
		
		<addColumn tableName="billing_usage_charge_inst">
			<column name="rating_unit_description" type="varchar(20)" />
		</addColumn>
	</changeSet>
	<changeSet id="ticket685_20150430" author="AndriusKarpavicius">
		<sql>update cat_charge_template set unit_nb_decimal=0 where unit_nb_decimal is null</sql>
	</changeSet>
	
	<changeSet id="ticket684_20150501" author="EdwardLegaspi">
		<addColumn tableName="crm_provider">
			<column name="display_subscriptions" type="BOOL" />
			<column name="display_services" type="BOOL" />
			<column name="display_offers" type="BOOL" />
		</addColumn>
	</changeSet>
	
	<changeSet id="ticket646_20150506" author="SebastienMichea">
		<addColumn tableName="cat_wallet_template">
			<column name="low_balance_level" type="numeric(23, 12)" />
		</addColumn>
		<addColumn tableName="billing_wallet">
			<column name="low_balance_level" type="numeric(23, 12)" />
		</addColumn>
	</changeSet>
</databaseChangeLog>
