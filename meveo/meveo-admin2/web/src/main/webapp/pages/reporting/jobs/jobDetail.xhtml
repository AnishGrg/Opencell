<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:custom="http://manaty.net/custom"
    template="/layout/template.xhtml">
    
    <ui:define name="navigation">
   		<ui:include src="/layout/navigation.xhtml" />
   	</ui:define>
    
    <ui:define name="body">
    	
		<custom:formPanel label="#{messages['job.jobPanel']}" edit="#{edit}" backingBean="#{jobBean}" entity="#{job}" >
 			<custom:formField label="#{messages['job.name']}" field="name" edit="false" useConverter="false"/>
   		    <custom:formField label="#{messages['job.nextExecutionDate']}" field="nextExecutionDate" isDate="true"/>
   		     <custom:formField label="#{messages['job.lastExecutionDate']}" field="lastExecutionDate" isDate="true"/>
   		    <custom:formField label="#{messages['job.active']}" field="active" isMessage="true"/>
   			<custom:formField label="#{messages['job.jobFrequencyId']}" field="frequency" childField="label" isMessage="true" edit="false"/>
			<custom:formField label="#{messages['job.executions']}" field="jobHistory" showFields="jobHistory.executionDate,executionDate"  showButtonAddNew="false"/>
			<h:commandButton rendered="#{edit}" id="executeJobNow" value="#{messages['job.executeJobNow']}" action="#{jobBean.executeJob}">
				<f:attribute name="backView" value="#{backView}" />
			</h:commandButton>
		</custom:formPanel>
       
    </ui:define>
    
</ui:composition>
