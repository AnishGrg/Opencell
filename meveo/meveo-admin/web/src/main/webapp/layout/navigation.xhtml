<h:form id="menu" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j">

	<a:queue />

	<rich:toolbar>
		<rich:toolbarGroup rendered="#{identity.loggedIn}">

			<rich:dropDownMenu id="admin"
				rendered="#{identity.hasPermission('administration','administrationVisualization')}">
				<f:facet name="label">
					<h:panelGrid>
						<h:outputText value="#{messages['menu.admin']}" />
					</h:panelGrid>
				</f:facet>

				<rich:menuItem id="users"
					rendered="#{identity.hasPermission('administration','administrationVisualization')}">
					<h:link outcome="/admin/meveousers/users.xhtml?faces-redirect=true">
						<h:outputText value="#{messages['menu.users']}" />
					</h:link>
				</rich:menuItem>
			</rich:dropDownMenu>

			<rich:dropDownMenu id="catalog" value="#{messages['menu.catalog']}"
				rendered="#{identity.hasPermission('catalog','catalogVisualization')}">
				<f:facet name="label">
					<h:panelGrid>
						<h:outputText value="#{messages['menu.catalog']}" />
					</h:panelGrid>
				</f:facet>

				<rich:menuItem id="offerTemplates"
					rendered="#{identity.hasPermission('catalog','catalogVisualization')}">
					<h:link
						outcome="/pages/catalog/offerTemplates/offerTemplates.xhtml?faces-redirect=true">
						<h:outputText value="#{messages['menu.offerTemplates']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="serviceTemplates"
					rendered="#{identity.hasPermission('catalog','catalogVisualization')}">
					<h:link
						outcome="/pages/catalog/serviceTemplates/serviceTemplates.xhtml?faces-redirect=true">
						<h:outputText value="#{messages['menu.serviceTemplates']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="recurringChargeTemplate"
					rendered="#{identity.hasPermission('catalog','catalogVisualization')}">
					<h:link
						outcome="/pages/catalog/recurringChargeTemplates/recurringChargeTemplates.xhtml?faces-redirect=true">
						<h:outputText value="#{messages['menu.recurringChargeTemplates']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="oneShotChargeTemplates"
					rendered="#{identity.hasPermission('catalog','catalogVisualization')}">
					<h:link
						outcome="/pages/catalog/oneShotChargeTemplates/oneShotChargeTemplates.xhtml?faces-redirect=true">
						<h:outputText value="#{messages['menu.oneShotChargeTemplates']}" />
					</h:link>
				</rich:menuItem>

			</rich:dropDownMenu>

			<rich:dropDownMenu id="crm"
				rendered="#{identity.hasPermission('account','accountVisualization') or identity.hasPermission('customerSummary','customerSummaryVisualization')}">
				<f:facet name="label">
					<h:panelGrid>
						<h:outputText value="#{messages['menu.crm']}" />
					</h:panelGrid>
				</f:facet>

				<rich:menuItem id="customerSearch"
					value="#{messages['menu.customerSearch']}" action="customerSearch"
					rendered="#{identity.hasPermission('account','accountVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.serviceTemplates']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="customers"
					rendered="#{identity.hasPermission('account','accountVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.customers']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="customerAccounts"
					rendered="#{identity.hasPermission('account','accountVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.customerAccounts']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="billingAccounts"
					rendered="#{identity.hasPermission('account','accountVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.billingAccounts']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="userAccounts"
					rendered="#{identity.hasPermission('account','accountVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.userAccounts']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="subscriptions"
					rendered="#{identity.hasPermission('account','accountVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.subscriptions']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="syntheseClient"
					rendered="#{identity.hasPermission('account','accountVisualization')or identity.hasPermission('customerSummary','customerSummaryVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.syntheseClient']}" />
					</h:link>
				</rich:menuItem>

			</rich:dropDownMenu>

			<rich:dropDownMenu
				rendered="#{identity.hasPermission('billing','billingManagement') or identity.hasPermission('billing','billingVisualization')}">
				<f:facet name="label">
					<h:panelGrid>
						<h:outputText value="#{messages['menu.medina']}" />
					</h:panelGrid>
				</f:facet>

				<rich:menuItem id="accesss">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.access']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="zonningPlans">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.zoning']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="timePlans">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.time']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="numberingPlans">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.numbering']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="priceCodes">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.priceCode']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="usagePricePlanItems"
					rendered="#{identity.hasPermission('catalog','catalogVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.usagePricePlanItem']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="usageDiscountPlanItems"
					rendered="#{identity.hasPermission('catalog','catalogVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.usageDiscountPlanItem']}" />
					</h:link>
				</rich:menuItem>

			</rich:dropDownMenu>

			<rich:dropDownMenu id="billing"
				rendered="#{identity.hasPermission('billing','billingVisualization')}">
				<f:facet name="label">
					<h:panelGrid>
						<h:outputText value="#{messages['menu.billing']}" />
					</h:panelGrid>
				</f:facet>

				<!--  <rich:menuItem id="invoices" value="#{messages['menu.invoices']}"
					action="invoices"  rendered="#{identity.hasPermission('billing','billingVisualization')}">
					<s:conversationPropagation type="none" />
				</rich:menuItem>
				<rich:menuItem id="invoiceTasks" value="#{messages['menu.invoiceTasks']}"
					action="invoiceTasks" rendered="#{identity.hasPermission('billing','billingVisualization')}">
					<s:conversationPropagation type="none" />
				</rich:menuItem> -->
				<!-- <rich:menuItem id="wallets" value="#{messages['menu.wallets']}"
					action="wallets" rendered="#{identity.hasPermission('billing','billingVisualization')}">
					<s:conversationPropagation type="none" />
				</rich:menuItem>-->

				<rich:menuItem id="recurringInvoicing"
					rendered="#{identity.hasPermission('billing','billingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.recurringInvoicing']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="exceptionalInvoicing"
					rendered="#{identity.hasPermission('billing','billingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.exceptionalInvoicing']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="billingRuns"
					rendered="#{identity.hasPermission('billing','billingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.billingRuns']}" />
					</h:link>
				</rich:menuItem>

			</rich:dropDownMenu>

			<rich:dropDownMenu value="#{messages['menu.payments']}"
				rendered="#{identity.hasPermission('billing','billingManagement')}">
				<f:facet name="label">
					<h:panelGrid>
						<h:outputText value="#{messages['menu.medina']}" />
					</h:panelGrid>
				</f:facet>

				<rich:menuItem id="dunningPlan"
					rendered="#{identity.hasPermission('billing','billingManagement')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.dunningPlan']}" />
					</h:link>
				</rich:menuItem>

				<!-- <rich:menuItem id="matchingCode" value="#{messages['menu.matchingCode']}"
					action="matchingCodes" rendered="#{identity.hasPermission('billing','billingManagement')}">
					<s:conversationPropagation type="none" /> 
				</rich:menuItem>-->

				<rich:menuItem id="ddrequestLot"
					rendered="#{identity.hasPermission('billing','billingManagement')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.ddrequestLot']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="ddrequestLotOps"
					rendered="#{identity.hasPermission('billing','billingManagement')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.ddrequestLotOp']}" />
					</h:link>
				</rich:menuItem>

			</rich:dropDownMenu>

			<rich:dropDownMenu id="reporting"
				rendered="#{identity.hasPermission('reporting','reportingVisualization')}">
				<f:facet name="label">
					<h:panelGrid>
						<h:outputText value="#{messages['menu.reporting']}" />
					</h:panelGrid>
				</f:facet>

				<rich:menuItem id="jobs"
					rendered="#{identity.hasPermission('reporting','reportingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.jobs']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="jobHistory"
					rendered="#{identity.hasPermission('reporting','reportingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.jobHistory']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="reports"
					rendered="#{identity.hasPermission('reporting','reportingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.reports']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="bordereauRemiseCheque"
					rendered="#{identity.hasPermission('reporting','reportingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.bordereauRemiseCheque']}" />
					</h:link>
				</rich:menuItem>

				<rich:menuItem id="documents"
					rendered="#{identity.hasPermission('reporting','reportingVisualization')}">
					<h:link outcome="">
						<h:outputText value="#{messages['menu.documents']}" />
					</h:link>
				</rich:menuItem>

			</rich:dropDownMenu>

		</rich:toolbarGroup>
	</rich:toolbar>
</h:form>
