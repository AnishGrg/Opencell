<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:rich="http://richfaces.org/rich" xmlns:a="http://richfaces.org/a4j"
	xmlns:sc="http://java.sun.com/jsf/composite/components/seamfaces" template="/layout/template.xhtml">


	<ui:define name="navigation">
		<ui:include src="/layout/navigation.xhtml">
		</ui:include>
	</ui:define>

	<ui:define name="body">

		<rich:panel>
			<f:facet name="header">#{messages['changePassword.panel']}</f:facet>

			<h:form>
				<h:panelGrid id="formPanel" width="100%" columns="1" border="0" style="padding:0px; margin:auto;">

					<sc:inputContainer label="#{messages['user.userName']}" rendered="#{not(identity.loggedIn)}">
						<h:inputText id="username" style="width:225px;" maxlength="50" value="#{changePasswordAction.username}" required="true" />
					</sc:inputContainer>

					<sc:inputContainer label="#{messages['changePassword.password.current']}">
						<h:inputSecret redisplay="true" autocomplete="off" id="currentPassword" size="20" maxlength="20" required="true"
							value="#{changePasswordAction.currentPassword}">
						</h:inputSecret>
					</sc:inputContainer>

					<sc:inputContainer label="#{messages['changePassword.password.new']}">
						<h:inputSecret autocomplete="off" id="newPassword" size="20" maxlength="20" required="true" value="#{changePasswordAction.newPassword}">
							<f:validator validatorId="passwordValidator" />
						</h:inputSecret>
					</sc:inputContainer>

					<sc:inputContainer label="#{messages['changePassword.password.confirmation']}">
						<h:inputSecret autocomplete="off" id="newPasswordConfirmation" size="20" maxlength="20" required="true"
							value="#{changePasswordAction.newPasswordConfirmation}">
						</h:inputSecret>
					</sc:inputContainer>
				</h:panelGrid>

				<h:panelGroup>
					<h:commandButton action="#{changePasswordAction.update}" value="#{messages['action.save']}" />
					<h:button outcome="/home.xhtml" value="#{messages['action.cancel']}" />
				</h:panelGroup>
			</h:form>
		</rich:panel>
	</ui:define>
</ui:composition>
