<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:custom="http://manaty.net/custom"
	template="/layout/template.xhtml">

    
    <ui:define name="navigation">
   		<ui:include src="/layout/navigation.xhtml">
   		</ui:include>
    </ui:define>

    <ui:define name="body">
		
		<rich:panel>
			<f:facet name="header">#{messages['changePassword.panel']}</f:facet>
			
			<h:form>
			<h:panelGrid id="formPanel" width="100%" columns="1" border="0" style="padding:0px; margin:auto;">
				<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['changePassword.password.current']}" />
					</ui:define>
					<h:inputSecret redisplay="true" autocomplete="off" id="currentPassword" size="20" maxlength="20" required="true"
						value="#{changePasswordAction.identity.user.user.password}">
							
					</h:inputSecret>
				</s:decorate>
				
				<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['changePassword.password.new']}" />
					</ui:define>
					<h:inputSecret autocomplete="off" id="newPassword" size="20" maxlength="20" required="true"
						value="#{changePasswordAction.user.newPassword}">
							<f:validator validatorId="passwordValidator" />
					</h:inputSecret>
				</s:decorate>
				
				<s:decorate template="/layout/edit.xhtml">
					<ui:define name="label">
						<h:outputText value="#{messages['changePassword.password.confirmation']}" />
					</ui:define>
					<h:inputSecret autocomplete="off" id="newPasswordConfirmation" size="20" maxlength="20" required="true" 
						value="#{changePasswordAction.user.newPasswordConfirmation}">
					</h:inputSecret>
				</s:decorate>
			</h:panelGrid>
			
			<h:panelGroup>
				<h:commandButton action="#{changePasswordAction.update}" value="#{messages['action.save']}" />
				<s:button action="/home.xhtml" value="#{messages['action.cancel']}"/>
			</h:panelGroup>
			
			</h:form>	
		</rich:panel>
    </ui:define>
</ui:composition>
